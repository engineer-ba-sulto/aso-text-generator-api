## PRD (製品要求仕様書) - ASO テキスト生成 API

**文書バージョン:** 1.1 (戦略ルール反映版)
**作成日:** 2025 年 8 月 25 日
**製品名:** ASO テキスト生成 API (仮称)

### 1. 概要と背景

本製品は、アプリストア最適化（ASO）におけるテキスト作成プロセスを自動化・高度化するための開発者向け API である。多くのアプリ開発者は、キーワード調査データ（CSV）を基に、効果的なアプリ名、サブタイトル、概要などを手動で作成している。このプロセスは時間がかかり、データに基づいた最適なテキストを生成するには専門知識を要する。本 API は、キーワード調査 CSV をインプットとして、統計分析と大規模言語モデル（LLM）を組み合わせ、ASO に最適化された多言語（日本語・英語）テキスト一式を自動生成することで、この課題を解決する。

### 2. 解決する問題

- **時間のかかる手作業:** アプリ開発者がキーワード調査結果を元に、各項目のテキストを手作業で作成する時間と手間を削減する。
- **専門知識の不足:** ASO のベストプラクティス（キーワードの配置、出現頻度など）を知らなくても、一定水準以上の品質を持つテキストを生成できるようにする。
- **データ活用の形骸化:** 取得したキーワード調査データを、実際のストア掲載テキストに効果的に反映させられていない問題を解決する。
- **多言語展開の壁:** 日本語版を元に英語版を作成する際の翻訳やニュアンス調整の手間を削減する。

### 3. ターゲットユーザー

- **個人・小規模チームのアプリ開発者:** 専任の ASO 担当者がおらず、自身で ASO を行う必要がある開発者。
- **ASO 担当者・マーケター:** 複数のアプリを担当し、ASO テキスト作成の効率化と品質向上を目指す担当者。

### 4. MVP のスコープと主要機能

MVP では、単一の API エンドポイントを通じて、以下の機能を提供する。**本 API の全てのテキスト生成ロジックは、提供された ASO 戦略ルールに厳密に従うものとする。**

- **F-1: キーワード CSV の自動分析と「単一主要キーワード」の選定:**

  - ユーザーはキーワードのランキング、人気度、難易度を含む CSV ファイルをアップロードできる。
  - システムは CSV を分析し、独自のスコアリングロジックに基づき、**全てのテキスト生成の起点となる、最も重要度の高い「単一主要キーワード」を自動で特定する。**

- **F-2: 最適化されたキーワードフィールドの生成 (100 文字):**

  - システムは、App Store の 100 文字制限に最適化されたキーワード文字列を生成する。
  - **ルール準拠事項:**
    - **生成される文字列の先頭には、必ず F-1 で選定した「主要キーワード」を配置する。**
    - **主要キーワードを構成する単語を含め、フィールド内で同じ単語が二度繰り返されないように重複を排除する。**
    - 残りの文字数には、スコアの高い関連キーワードから抽出した個別の単語を埋める。

- **F-3: AI によるクリエイティブテキスト生成（日英対応）:**

  - ユーザーはリクエスト時に生成言語（`ja`または`en`）を指定できる。
  - システムは指定された言語で、以下のテキストを生成する。

    - **タイトル (30 文字):**

      - **ルール準拠事項:**
        - **F-1 で選定した「主要キーワード」を、タイトルの最も先頭に配置する。**
        - その後ろに、ユーザーが指定したアプリ基本名を連結する。（例: `「{主要キーワード} - {アプリ基本名}」`）

    - **サブタイトル (30 文字):**

      - **ルール準拠事項:**
        - **F-1 で選定した「主要キーワード」や、それを構成する単語を、サブタイトル内に含めてはならない。**
        - Gemini を活用し、キーワードの重複を避けつつ、アプリの価値や補足的な文脈を伝えるクリエイティブなテキストを生成する。

    - **概要 (4,000 文字):**

      - **ルール準拠事項:**
        - **F-1 で選定した「主要キーワード」を、文章全体で 4〜7 回、自然な形で散りばめるように Gemini に指示する。**
        - ユーザーが入力したアプリの特徴やメリットを強調した、読みやすく魅力的な説明文を生成する。

    - **このバージョンの最新情報 (4,000 文字):**
      - **ルール準拠事項:**
        - **生成されるテキスト内に、F-3 で生成した「タイトル（アプリのフルネーム）」と、F-1 で選定した「主要キーワード」の両方を必ず含める。**
        - シンプルな定型文として生成する。（例: `「{生成されたタイトル}」をアップデートしました。最高の{主要キーワード}体験をお楽しみください。`）

### 5. ユーザーフロー

1.  ユーザーは、ASO ツールからエクスポートしたキーワード調査 CSV ファイルを用意する。
2.  ユーザーは、API クライアント（Postman や自作スクリプトなど）から`POST /api/v1/generate-aso-texts`エンドポイントにリクエストを送信する。リクエストには以下を含む。
    - CSV ファイル
    - アプリの基本名（例: "タスクライズ"）
    - アプリの主な特徴（例: ["1 日 1 タスク設定", "実績システム"]）
    - 生成したい言語（`"ja"`または`"en"`）
3.  API はリクエストを受け付け、バックエンドで一連の分析・生成処理を実行する。
4.  ユーザーは、レスポンスとして指定した言語で生成された ASO テキスト一式（JSON 形式）を受け取る。
5.  ユーザーは受け取ったテキストをコピーし、App Store Connect などに貼り付けて利用する。

### 6. 成功の評価指標

- **API コール数:** API が継続的に利用されているか。
- **ユーザーフィードバック:** 「ASO にかかる時間が削減できた」「生成されたテキストの品質が高い」「戦略ルールが守られていて信頼できる」といった肯定的なフィードバックが得られるか。
- **エラーレート:** API が安定して稼働しているか。

### 7. MVP ではやらないこと

- **複数言語の同時出力:** 1 リクエストで 1 言語のみ生成する。
- **ユーザー認証や利用履歴の保存:** MVP では API キーのみでアクセスを許可し、複雑なユーザー管理は行わない。
- **GUI（グラフィカルユーザーインターフェース）:** API のみを提供し、Web 画面などは作成しない。
- **CSV 以外のフォーマット対応:** 入力は指定された形式の CSV ファイルのみとする。
- **ルールのカスタマイズ:** MVP では、埋め込まれた戦略ルールをユーザーが変更することはできない。
